app-id: com.voxel.deepqt
runtime: org.kde.Platform
runtime-version: '5.15-22.08'
sdk: org.kde.Sdk
command: deepqt
finish-args:
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --filesystem=xdg-config
  - --filesystem=xdg-cache
  - --filesystem=home
  - --share=network
modules:
  - name: deepqt
    buildsystem: simple
    build-commands:
      - python3 -m venv /app
      - /app/bin/pip install --no-index --find-links=./python-packages deepqt
    post-install:
      - install -Dm644 DeepQt.desktop /app/share/applications/com.voxel.deepqt.desktop
      - install -Dm644 deepqt.png /app/share/icons/hicolor/256x256/apps/com.voxel.deepqt.png
    sources:
      - type: dir
        path: .flatpak/flatpak_sources
